---
layout: single
title:  "파이썬 스터디 2주차(빅테이터 분석)"
categories:
   - python
---

1주차 스터디를 성황리에 마치고 2주차에 접어들었다.  

1주차는 파이썬 기본기를 다뤄서 크게 어려울 것이 없었는데

2주차부터는 난이도가 다소 높아질 것 같다.

앞으로의 포로그램은 주피터 노트북에서 실행할 예정이다.  

그럼 ... 시작 !!


---

## PART2 : 빅데이터 분석
### chapter8: DNA 프로젝트

인터넷레서 제공하는 DNA 서열을 다음의 표와 같이 아미노산 서열로 변환한다.


|    DNA    |      ATA     |      TGG      |      CAA       |
| :-------: | :----------: | :-----------: | :-------------:|
|   아미노산  |       I      |        Q      |      Q         |

> 과제 진행 순서
- 1. DNA와 프로틴 시퀀스 데이터를 수동 다운로드
- 2. 파이썬으로 DNA 데이터를 열고 가공하기
- 3. DNA를 아미노산으로 변환하는 알고리즘
- 4. 변환한 아미노산 서열과 사이트에서 다운로드한 것이 일치하는지를 비교

#### 1. DNA와 프로틴 시퀀스 데이터를 수동 다운로드

NCBI에서 DNA시퀀스 파일을 다운로드 했다. 

파이썬의 open() 명령어를 이용해 다운로드 한 파일을 읽기 전용으로 연 후 출력했다.

```python
f = open("NM_207618.2.fna", "r")
sequence = f.read()
sequence
```

> 소스코드와 출력 결과  

![image](/_posts/image-1.png)


파일을 열어보면 첫 번째 줄에 염기서열을 설명하는 내용이 있다. 

데이터를 분석하는 데 불필요하므로 삭제한다.

with open() 구문을 사용하면 해당 블록을 벗어났을 때 자동으로 파일을 닫아준다.

파일을 읽기 전용으로 열고, splitlines() 메소드를 이용해 줄 단위로 읽어들인다. 

splitlines()는 여러 줄의 문자열을 줄바꿈('\n')을 기준으로 나누며, 

각 줄의 내용을 요소로 갖는 리스트를 생성한다.

이 때, 매개변수가 True 라면 '\n'도 포함해서 리스트를 만든다. (False라면 줄바꿈 문자는 삭제)

소스코드를 작성해보자!

```python
with open("NM_207618.2.fna", "r") as inf: #with 로 열면 블럭이 끝날 때 자동으로 파일 닫아줌
          data = inf.read().splitlines(True) #한 줄씩 '\n'포함한 리스트로 저장
with open('dna1.txt', 'w') as outf: # 쓰기 모드로 열기
          outf.writelines(data[1:]) # data에 저장된 리스트의 두 번째 요소부터 'dna1.txt' 파일에 쓰기
f = open("dna1.txt", "r") #'dna1.txt' 파일을 읽기모드로 열기
sequence = f.read() # 열어둔 파일을 읽어와서 sequence 라는 변수에 저장
sequence #sequence를 출력해 파일 내용 확인
```

출력 결과를 보면 다음과 같다.

![](2024-04-01-14-57-53.png)

결과에는 '\n' 문자가 포함되어 있다.     

그러나 데이터 분석에는 필요하지 않으므로 replace()메소드를 이용해 삭제한다.

엔터키(Carriage return)나 혹시 모를 공란도 역시 삭제한다!

![](2024-04-01-15-06-21.png)

결과를 보면 깔끔히 삭제된 것을 볼 수 있다.
---

#### 2. DNA를 아미노산으로 변환하는 알고리즘

(참고: 리스트의 슬라이싱 기능을 활용해 sequence에 저장된 내용을 3개씩 가져올 수 있다. "sequence[0:3]")












